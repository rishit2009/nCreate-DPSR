{% extends 'base.html' %}

<!-- title -->
{% block title %} Clubs List {% endblock %}

{% block content %}
    <div class="flex justify-between px-16 my-6">
        <h1 class="bold text-3xl text-text">Clubs</h1>
        <a href="{{url_for('create_club')}}" class="cursor-pointer bg-primary hover:bg-red-600 transition-colors text-text font-semibold px-3 py-2 rounded-lg text-center flex justify-center items-center space-x-1">
            <ion-icon name="add-outline" class="text-lg"></ion-icon>
            <span>New Club</span>
        </a>
    </div>

    <div class="flex flex-col gap-6 items-start max-w-screen overflow-x-hidden">
        {% for club in clubs %}
        {% if club.name != 'null' %}
        <a class="flex justify-between items-center text-text hover:scale-[1.01] py-4 w-[90%] border-b border-gray-400 mx-[5%] px-8 transition-all" href="{{url_for('club', cid=club.id)}}">
            <div class="flex">
                <img src="{{ club.profile_pic }}" alt="{{ club.name }}" class="h-14 w-14 rounded-full mr-6">
                <div class="flex flex-col">
                    <p class="font-bold text-xl">{{ club.name }}</p>
                    <p class="text-sm text-slate-400">
                        Members: {{ club.members|length }}
                    </p>
                </div>
            </div>
            <div class="flex text-right flex-col text-slate-300 text-sm ml-8">
                <form action="{{ url_for('request_club', cid=club.id) }}" method="POST">
                    <button type="submit" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-red-600">Request to Join</button>
                </form>
            </div>
        </a>
        {% endif %}
        {% endfor %}
    </div>
{% endblock %}
